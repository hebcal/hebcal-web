<script nonce="<%=nonce%>">
document.addEventListener("DOMContentLoaded", function() {
const d=document;
const d1=d.getElementById('d1');
const d2=d.getElementById('d2');
d1.addEventListener("click", function(){if(this.checked){d2.checked=false}});
d2.addEventListener("click", function(){if(this.checked){d1.checked=false}});
const mf=d.getElementById('mf');
const ykk=d.getElementById('ykk');
mf.addEventListener("click", function(){if(!this.checked){ykk.checked=false}});
ykk.addEventListener("click", function(){if(this.checked){mf.checked=true}});
d.getElementById("ytH").addEventListener("click", function(){d.f1.year.value="<%=defaultYearHeb%>"});
d.getElementById("ytG").addEventListener("click", function(){d.f1.year.value="<%=defaultYear%>"});
d.getElementById("m").addEventListener("focus",function(){
  d.getElementById("M1").checked = false;
  d.getElementById("M0").checked = true;
});
const monthModeRadios=d.querySelectorAll('.month-mode-radio');
const mgHidden=d.getElementById('mg-hidden');
const gnHidden=d.getElementById('gn-hidden');
const d2gregLabel=d.querySelector('.d2-greg');
const d2hebLabel=d.querySelector('.d2-heb');
const d1hebLabel=d.querySelector('.d1-heb');
const d1gregLabel=d.querySelector('.d1-greg');
function updateMonthMode(){
  const checked=d.querySelector('.month-mode-radio:checked');
  if(checked){
    mgHidden.value=checked.getAttribute('data-mg');
    gnHidden.value=checked.getAttribute('data-gn');
    const isHebrew=checked.getAttribute('data-mg')==='h';
    if(d2gregLabel&&d2hebLabel){
      d2gregLabel.style.display=isHebrew?'none':'inline';
      d2hebLabel.style.display=isHebrew?'inline':'none';
    }
    if(d1hebLabel&&d1gregLabel){
      d1hebLabel.style.display=isHebrew?'none':'inline';
      d1gregLabel.style.display=isHebrew?'inline':'none';
    }
  }
}
monthModeRadios.forEach(function(radio){
  radio.addEventListener('change',updateMonthMode);
});
updateMonthMode();
});
</script>
